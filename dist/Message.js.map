{"version":3,"file":"Message.js","names":["Message","constructor","accountId","contactUri","fromUri","toUri","body","contentType","fromNumber","fromName","match","_accountId","_contactUri","_fromUri","_fromName","_fromNumber","_toUri","_body","_contentType","getAccountId","getContactUri","getFromUri","getFromName","getFromNumber","getToUri","getBody","getContentType"],"sources":["../src/Message.ts"],"sourcesContent":["export type MessageData = {\r\n    accountId: number,\r\n    contactUri: string,\r\n    fromUri: string,\r\n    toUri: string,\r\n    body: string,\r\n    contentType: string,\r\n}\r\n\r\n/**\r\n * This class describes the information and current status of a call.\r\n */\r\nexport default class Message {\r\n\r\n    _accountId: number;\r\n    _contactUri: string;\r\n    _fromUri: string;\r\n    _fromName: string;\r\n    _fromNumber: string;\r\n    _toUri: string;\r\n    _body: string;\r\n    _contentType: string;\r\n\r\n    constructor({\r\n        accountId,\r\n        contactUri,\r\n        fromUri,\r\n        toUri,\r\n        body,\r\n        contentType\r\n    }: MessageData) {\r\n        let fromNumber = null;\r\n        let fromName = null;\r\n\r\n        if (fromUri) {\r\n            let match = fromUri.match(/\"([^\"]+)\" <sip:([^@]+)@/);\r\n\r\n            if (match) {\r\n                fromName = match[1];\r\n                fromNumber = match[2];\r\n            } else {\r\n                match = fromUri.match(/sip:([^@]+)@/);\r\n\r\n                if (match) {\r\n                    fromNumber = match[1];\r\n                }\r\n            }\r\n        }\r\n\r\n        this._accountId = accountId;\r\n        this._contactUri = contactUri;\r\n        this._fromUri = fromUri;\r\n        this._fromName = fromName;\r\n        this._fromNumber = fromNumber;\r\n        this._toUri = toUri;\r\n        this._body = body;\r\n        this._contentType = contentType;\r\n    }\r\n\r\n    /**\r\n     * The account ID where this message belongs.\r\n     * @returns {int}\r\n     */\r\n    getAccountId(): number {\r\n        return this._accountId;\r\n    }\r\n\r\n    /**\r\n     * The Contact URI of the sender, if present.\r\n     * @returns {String}\r\n     */\r\n    getContactUri(): string {\r\n        return this._contactUri;\r\n    }\r\n\r\n    /**\r\n     * URI of the sender.\r\n     * @returns {String}\r\n     */\r\n    getFromUri(): string {\r\n        return this._fromUri;\r\n    }\r\n\r\n    /**\r\n     * Sender name, or NULL if no name specified in URI.\r\n     * @returns {String}\r\n     */\r\n    getFromName(): string {\r\n        return this._fromName;\r\n    }\r\n\r\n    /**\r\n     * Sender number\r\n     * @returns {String}\r\n     */\r\n    getFromNumber(): string {\r\n        return this._fromNumber;\r\n    }\r\n\r\n    /**\r\n     * URI of the destination message.\r\n     * @returns {String}\r\n     */\r\n    getToUri(): string {\r\n        return this._toUri;\r\n    }\r\n\r\n    /**\r\n     * Message body, or NULL if no message body is attached to this mesage.\r\n     * @returns {String}\r\n     */\r\n    getBody(): string {\r\n        return this._body;\r\n    }\r\n\r\n    /**\r\n     * MIME type of the message.\r\n     * @returns {String}\r\n     */\r\n    getContentType(): string {\r\n        return this._contentType;\r\n    }\r\n\r\n}"],"mappings":"AASA;AACA;AACA;AACA,eAAe,MAAMA,OAAN,CAAc;EAWzBC,WAAW,CAAC;IACRC,SADQ;IAERC,UAFQ;IAGRC,OAHQ;IAIRC,KAJQ;IAKRC,IALQ;IAMRC;EANQ,CAAD,EAOK;IACZ,IAAIC,UAAU,GAAG,IAAjB;IACA,IAAIC,QAAQ,GAAG,IAAf;;IAEA,IAAIL,OAAJ,EAAa;MACT,IAAIM,KAAK,GAAGN,OAAO,CAACM,KAAR,CAAc,yBAAd,CAAZ;;MAEA,IAAIA,KAAJ,EAAW;QACPD,QAAQ,GAAGC,KAAK,CAAC,CAAD,CAAhB;QACAF,UAAU,GAAGE,KAAK,CAAC,CAAD,CAAlB;MACH,CAHD,MAGO;QACHA,KAAK,GAAGN,OAAO,CAACM,KAAR,CAAc,cAAd,CAAR;;QAEA,IAAIA,KAAJ,EAAW;UACPF,UAAU,GAAGE,KAAK,CAAC,CAAD,CAAlB;QACH;MACJ;IACJ;;IAED,KAAKC,UAAL,GAAkBT,SAAlB;IACA,KAAKU,WAAL,GAAmBT,UAAnB;IACA,KAAKU,QAAL,GAAgBT,OAAhB;IACA,KAAKU,SAAL,GAAiBL,QAAjB;IACA,KAAKM,WAAL,GAAmBP,UAAnB;IACA,KAAKQ,MAAL,GAAcX,KAAd;IACA,KAAKY,KAAL,GAAaX,IAAb;IACA,KAAKY,YAAL,GAAoBX,WAApB;EACH;EAED;AACJ;AACA;AACA;;;EACIY,YAAY,GAAW;IACnB,OAAO,KAAKR,UAAZ;EACH;EAED;AACJ;AACA;AACA;;;EACIS,aAAa,GAAW;IACpB,OAAO,KAAKR,WAAZ;EACH;EAED;AACJ;AACA;AACA;;;EACIS,UAAU,GAAW;IACjB,OAAO,KAAKR,QAAZ;EACH;EAED;AACJ;AACA;AACA;;;EACIS,WAAW,GAAW;IAClB,OAAO,KAAKR,SAAZ;EACH;EAED;AACJ;AACA;AACA;;;EACIS,aAAa,GAAW;IACpB,OAAO,KAAKR,WAAZ;EACH;EAED;AACJ;AACA;AACA;;;EACIS,QAAQ,GAAW;IACf,OAAO,KAAKR,MAAZ;EACH;EAED;AACJ;AACA;AACA;;;EACIS,OAAO,GAAW;IACd,OAAO,KAAKR,KAAZ;EACH;EAED;AACJ;AACA;AACA;;;EACIS,cAAc,GAAW;IACrB,OAAO,KAAKR,YAAZ;EACH;;AA7GwB"}